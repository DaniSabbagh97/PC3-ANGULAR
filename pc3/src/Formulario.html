<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8"/>
        <title>Silent Life</title>
        <!--HOJA DE ESTILOS-->
        <link rel="stylesheet" type="text/css" href="css/style.css"/>
    </head>
    <body>
       <header id="header">
        <div class="center">
            <!--LOGO-->
            <div id="logo">
                <img src="img/logo.png" class="logo-app" alt="logotipo"/>
                <span id="brand">
                  
            </div>
                
            <!--MENU-->
            <nav id="menu">
                <ul>
                    <li>
                        <a href="Estructura.html">Inicio</a>
                    </li>
                    <li>
                        <a href="#">Blog</a>
                    </li>
                    <li>
                        <a href="Formulario.html">Formulario</a>
                    </li>
                    <li>
                        <a href="#">Opción 4</a>
                    </li>
                    
                    
                </ul>
            </nav>
            <!--LIMPIAR FLOTADOS-->
            <div class="clearfix"></div>
        </div>
       </header>
       <div id="slider" class="slider-big">
           <h1>Formulario</h1>
           <a href="Estructura.html" class="btn-white">Ir a Inicio</a>
       </div>
       
       <div class="center">
         <div class="center">
        <section id="content">
             <form id="formulario" action="article.html" method="GET">
                 
                <label for="CostaOInterior">Elige tu preferencia</label>
                
                <select id="CostaOInterior" name="elige">
                    <option value="Interior">Interior</option>
                    <option value="Costa">Costa</option>
                </select>
                
             
             <div id="contenedor"></div>
             <div id="contenedor2"></div>
             <input type="submit" value="Siguiente">
            </form>
             
            
        </section>
        </div>
       <div style="height: 1200px;"></div>


       <footer id="footer">
           <div class="center">
               <p>
                   &copy; Silent Life S.L.
               </p>
           </div>
       </footer>


    </body>
    <script>
        const costa = ["galicia", "asturias", "cantabria", "pais vasco", "cataluña", "valencia", "murcia", "andalucia", "ceuta", "melilla", "baleares", "canarias"]
        const interior = ["castilla y leon","la rioja", "navarra", "aragon", "castilla la mancha", "madrid", "extremadura"]

        const galicia = ["la Coruña", "lugo", "orense", "pontevedra"]
        const asturias = ["asturias"]
        const cantabria = ["cantabria"]
        const laRioja = ["la rioja"]
        const paisVasco = ["vizcaya", "gipuzcua", "alava"]
        const navarra = ["navarra"]
        const aragon = ["huesca", "zaragoza", "teruel"]
        const cataluña = ["barcelona", "tarragona", "llerida", "gerona"]
        const valencia = ["castellon", "valencia", "alicante"]
        const castillaLeon = ["leon", "palencia", "burgos", "soria", "zamora", "valladolid", "segovia", "salamanca", "avila"]
        const madrid = ["madrid"]
        const murcia = ["murcia"]
        const castillaLaMancha = ["guadalajara", "cuenca", "albacete", "toledo", "ciudad real"]
        const extremadura = ["caceres", "badajoz"]
        const andalucia = ["cordoba", "jaen", "granda", "almeria", "malaga", "sevilla", "cadiz", "huelva" ]
        const baleares = ["palma mallorca"]
        const canarias = ["santa cruz de tenerife", "las palmas"]
        const ceuta = ["ceuta"]
        const melilla = ["melilla"]


window.onload =  () => {

let seleccionado = document.querySelector('select');

seleccionado.addEventListener('change', comprobarSeleccion);

function comprobarSeleccion(){
    let comunidades = costa
    let eleccion = seleccionado.value;
    var contenedor= document.getElementById('contenedor');

    contenedor.innerHTML="";

    let form = document.createElement("form")

    let label = document.createElement("label")
    label.setAttribute("for", "comunidades")
    label.appendChild(document.createTextNode("Elige tu preferencia"))

    let select = document.createElement("select")
    select.setAttribute("id", "comunidades")
    select.addEventListener('change', comprobarCiudades)

    if (eleccion === "Interior") {
        comunidades = interior
    }
    
    comunidades.map(comunidad => {
        let option = document.createElement("option")
        option.setAttribute("value", comunidad)
        option.appendChild(document.createTextNode(comunidad.charAt(0).toUpperCase() + comunidad.slice(1)))
        select.appendChild(option)
    })

    form.appendChild(label)
    form.appendChild(select)
    contenedor.appendChild(form)

}

const comprobarCiudades = () => {
    let eleccion = document.getElementById("comunidades").value
    var contenedor= document.getElementById('contenedor2');

    contenedor.innerHTML="";

    let form = document.createElement("form")

    let label = document.createElement("label")
    label.setAttribute("for", "provincias")
    label.appendChild(document.createTextNode("Elige tu preferencia"))

    let select = document.createElement("select")
    select.setAttribute("id", "provincias")
    select.addEventListener('change', guardarProvincia)

    if (eleccion === "galicia") {
        provincias = galicia
    } else if (eleccion === "asturias") {
        provincias = asturias
    }  else if (eleccion === "cantabria") {
        provincias = cantabria
    } else if (eleccion === "la rioja") {
        provincias = laRioja
    } else if (eleccion === "pais vasco") {
        provincias = paisVasco
    }  else if (eleccion === "navarra") {
        provincias = navarra
    }  else if (eleccion === "aragon") {
        provincias = aragon
    }  else if (eleccion === "cataluña") {
        provincias = cataluña
    }  else if (eleccion === "valencia") {
        provincias = valencia
    }  else if (eleccion === "castilla y leon") {
        provincias = castillaLeon
    }  else if (eleccion === "madrid") {
        provincias = madrid
    }   else if (eleccion === "murcia") {
        provincias = murcia
    }   else if (eleccion === "castilla la mancha") {
        provincias = castillaLaMancha
    }   else if (eleccion === "extremadura") {
        provincias = extremadura
    }  else if (eleccion === "andalucia") {
        provincias = andalucia
    }  else if (eleccion === "baleares") {
        provincias = baleares
    }  else if (eleccion === "canarias") {
        provincias = canarias
    }  else if (eleccion === "ceuta") {
        provincias = ceuta
    }  else if (eleccion === "melilla") {
        provincias = melilla
    }   
    
    provincias.map(provincia => {
        let option = document.createElement("option")
        option.setAttribute("value", provincia)
        option.appendChild(document.createTextNode(provincia.charAt(0).toUpperCase() + provincia.slice(1)))
        select.appendChild(option)
    })

    form.appendChild(label)
    form.appendChild(select)
    contenedor.appendChild(form)
}

const guardarProvincia = () => {
    let eleccion = document.getElementById("provincias").value
    alert("haz lo que quieras con esta provicia: " + eleccion)
}




}

    </script>
  
</html>
